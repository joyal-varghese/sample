<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Doodle Jump Clone</title>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background: linear-gradient(#87ceeb, #ffffff);
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  canvas {
    display: block;
    margin: auto;
  }

  #info {
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 18px;
    color: #000;
  }
</style>
</head>

<body>
<div id="info">Use ← → Arrow Keys</div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = Math.min(420, window.innerWidth);
canvas.height = window.innerHeight;

// GAME VARIABLES
let gravity = 0.4;
let jumpPower = -10;
let score = 0;

// PLAYER
const player = {
  x: canvas.width / 2 - 15,
  y: canvas.height - 60,
  w: 30,
  h: 30,
  vy: 0,
  vx: 0,
  speed: 4
};

// PLATFORMS
let platforms = [];
const platformCount = 10;

function initPlatforms() {
  platforms = [];
  let y = canvas.height;
  for (let i = 0; i < platformCount; i++) {
    platforms.push({
      x: Math.random() * (canvas.width - 80),
      y: y,
      w: 80,
      h: 12
    });
    y -= canvas.height / platformCount;
  }
}

initPlatforms();

// CONTROLS
document.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft") player.vx = -player.speed;
  if (e.key === "ArrowRight") player.vx = player.speed;
});

document.addEventListener("keyup", () => player.vx = 0);

// GAME LOOP
function update() {
  player.vy += gravity;
  player.y += player.vy;
  player.x += player.vx;

  // Horizontal wrap
  if (player.x > canvas.width) player.x = -player.w;
  if (player.x + player.w < 0) player.x = canvas.width;

  // Platform collision
  platforms.forEach(p => {
    if (
      player.vy > 0 &&
      player.x < p.x + p.w &&
      player.x + player.w > p.x &&
      player.y + player.h > p.y &&
      player.y + player.h < p.y + p.h
    ) {
      player.vy = jumpPower;
    }
  });

  // Screen scroll
  if (player.y < canvas.height / 3) {
    platforms.forEach(p => {
      p.y += Math.abs(player.vy);
      if (p.y > canvas.height) {
        p.y = 0;
        p.x = Math.random() * (canvas.width - p.w);
        score++;
      }
    });
    player.y = canvas.height / 3;
  }

  // GAME OVER
  if (player.y > canvas.height) {
    score = 0;
    player.y = canvas.height - 60;
    player.vy = jumpPower;
    initPlatforms();
  }
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Player
  ctx.fillStyle = "#ff6b6b";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Platforms
  ctx.fillStyle = "#2ecc71";
  platforms.forEach(p => {
    ctx.fillRect(p.x, p.y, p.w, p.h);
  });

  // Score
  ctx.fillStyle = "#000";
  ctx.font = "20px Arial";
  ctx.fillText("Score: " + score, 15, 30);
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>

