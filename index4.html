<!DOCTYPE html>
<html>
<head>
<style>
canvas{background:black;display:block;margin:auto}
</style>
</head>
<body>
<canvas id="c" width="400" height="400"></canvas>
<script>
let ctx=c.getContext("2d"),s=[{x:10,y:10}],d={x:1,y:0},f={x:15,y:15};
setInterval(()=>{
 ctx.clearRect(0,0,400,400);
 s.unshift({x:s[0].x+d.x,y:s[0].y+d.y});
 if(s[0].x==f.x&&s[0].y==f.y)f={x:Math.random()*20|0,y:Math.random()*20|0};
 else s.pop();
 ctx.fillStyle="red";ctx.fillRect(f.x*20,f.y*20,20,20);
 ctx.fillStyle="lime";s.forEach(p=>ctx.fillRect(p.x*20,p.y*20,20,20));
},150);
onkeydown=e=>d={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}}[e.key]||d;
</script>
</body>
</html>